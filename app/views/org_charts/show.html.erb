<div class="row org-chart">
  <div class="px-4">
    <h1><%= t(".title") %></h1>
  </div>
  <%= render "shared/date_navigator", selected_date: @selected_date %>
  <%= render "shared/plan_navigator", selected_plan: @selected_plan, plan_names: @plan_names %>
  <div class="org-chart" data-controller="org-chart"
       data-action="
       newData@window->org-chart#handleNewOrgData
       completeSupervisorChange@window->org-chart#handleCompleteChange
       cancelSupervisorChange@window->org-chart#handleCancelChange
      "
       style="padding-left:0; padding-right:0"></div>
  <div
    data-controller="org-data"
    data-action="datePicked@window->org-data#handleDatePicked planPicked@window->org-data#handlePlanPicked"
    data-org-data-starting-date-value="<%= @selected_date %>">
  </div>
  <div
    data-controller="url-date-manager"
    data-action="datePicked@window->url-date-manager#handleDatePicked planPicked@window->url-date-manager#handlePlanPicked"
  ></div>
</div>

<effective-date-modal
  id="change-supervisor-effective-date-modal"
  data-controller="effective-date-modal"
  data-effective-date-modal-selected-date-value="<%= @selected_date %>"
  data-effective-date-modal-completed-event-value="completeSupervisorChange"
  data-effective-date-modal-canceled-event-value="cancelSupervisorChange"
  data-effective-date-modal-open-event-value="personDropped"
></effective-date-modal>

<effective-date-modal
  id="deactivate-person-effective-date-modal"
  data-controller="effective-date-modal"
  data-effective-date-modal-selected-date-value="<%= @selected_date %>"
  data-effective-date-modal-completed-event-value="completeDeactivatePersonChange"
  data-effective-date-modal-canceled-event-value="cancelDeactivatePersonChange"
  data-effective-date-modal-open-event-value="personDeactivated"
></effective-date-modal>
